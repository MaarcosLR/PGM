<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <link rel="icon" href="/img/icologo.png" type="image/icon">
    <title th:text="${anuncio.titulo}">Detalle Anuncio</title>
    <link rel="stylesheet" href="/css/common.css" />
    <link rel="stylesheet" href="/css/detalle-anuncio.css" />
</head>
<body>
<header>
    <nav class="nav-wrapper">
        <div class="nav-links">
            <a href="/index.html">INICIO</a>
            <a href="/anuncios.html" class="indicator">ANUNCIOS</a>
        </div>
    </nav>

    <div class="logo">
        <img src="/img/icologo.png" alt="PGM Logo">
    </div>

    <div class="nav-link-solicitar">
        <a href="/solicitar.html">SOLICITAR</a>
    </div>

    <a href="/profile.html" class="profile">
        <img src="/img/icoperfil.png" alt="Perfil" width="33">
    </a>

</header>

<main style="max-width: 800px; margin: 0 auto; padding: 2rem;">
    <h1 th:text="${anuncio.titulo}">Título</h1>
    <div class="imageAd-carousel" style="position: relative; width: 100%; height: 400px; overflow: hidden; margin-bottom: 1rem;">

        <!-- Botón Favoritos -->
        <button id="btnFavorito" class="btn-favorito" title="Añadir a favoritos" type="button">
            <svg id="iconHeart" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" width="28" height="28">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 016.364 0L12 7.636l1.318-1.318a4.5 4.5 0 116.364 6.364L12 20.364l-7.682-7.682a4.5 4.5 0 010-6.364z" />
            </svg>
        </button>

        <div class="imageAd-carousel">

        <!-- Contenedor de imágenes -->
        <div class="carousel-images" style="height: 100%; position: relative;">
            <img th:each="img,iterStat : ${anuncio.imagenes}"
                 th:src="${img.urlImagen}"
                 th:if="${iterStat.index < 6}"
                 alt="Imagen anuncio"
                 class="carousel-image"
                 style="width: 100%; height: 100%; object-fit: cover; display: none;" />
            <img th:if="${#lists.isEmpty(anuncio.imagenes)}" src="/img/default.jpg" alt="Imagen anuncio" class="carousel-image" style="display: block; width: 100%; height: 100%; object-fit: cover;" />
        </div>

        <!-- Botones Navegación -->
        <button id="btnPrev" class="carousel-btn prev-btn" title="Imagen anterior" type="button">&#10094;</button>
        <button id="btnNext" class="carousel-btn next-btn" title="Imagen siguiente" type="button">&#10095;</button>
        </div>
    </div>


    <p><strong>Precio:</strong> <span th:text="${anuncio.precioFormateado}"></span></p>
    <p><strong>Ubicación:</strong> <span th:text="${anuncio.ubicacion}"></span></p>
    <p><strong>Descripción:</strong></p>
    <p th:text="${anuncio.descripcion}">Descripción detallada del anuncio aquí</p>

    <a href="/anuncios.html" class="back-link">← Volver a anuncios</a>
</main>

<footer class="footerSoli">
    ©2025 PGM. Todos los derechos reservados
    <button id="btnTerms" class="btnTerms">TÉRMINOS Y CONDICIONES</button>
</footer>
</body>
</html>
